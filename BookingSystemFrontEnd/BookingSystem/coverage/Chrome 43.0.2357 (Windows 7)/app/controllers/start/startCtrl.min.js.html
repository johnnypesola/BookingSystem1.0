<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for ./app/controllers/start/startCtrl.min.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../../prettify.css">
    <link rel="stylesheet" href="../../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header low">
    <h1>Code coverage report for <span class="entity">./app/controllers/start/startCtrl.min.js</span></h1>
    <h2>
        Statements: <span class="metric">6.06% <small>(2 / 33)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">14.29% <small>(2 / 14)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">100% <small>(1 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">./app/controllers/start/</a> &#187; startCtrl.min.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1</td><td class="line-coverage"><span class="cline-any cline-yes">1</span></td><td class="text"><pre class="prettyprint lang-js">(function(){angular.module("bookingSystem.startPage",["bookingSystem.bookingServices","bookingSystem.commonFilters"]).config(["$routeProvider",function($routeProvider){}]).controller("StartCtrl",["$scope","Booking","$q","Location",<span class="fstat-no" title="function not covered" >function($scope,Booking,$q,Location){<span class="cstat-no" title="statement not covered" ></span>var that=this;<span class="cstat-no" title="statement not covered" >t</span>hat.getEmptyBookings=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var deferred=$q.defer(),promise=deferred.promise;<span class="cstat-no" title="statement not covered" >$</span>scope.emptyBookings=Booking.countEmpty();<span class="cstat-no" title="statement not covered" >$</span>scope.emptyBookings.$promise.then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>deferred.resolve()}</span>);<span class="cstat-no" title="statement not covered" >$</span>scope.emptyBookings.$promise.catch(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$rootScope.FlashMessage={type:"error",message:"Tomma bokningstillfällen kunde inte hämtas, var god försök igen."}}</span>);<span class="cstat-no" title="statement not covered" >r</span>eturn promise}</span>;<span class="cstat-no" title="statement not covered" >t</span>hat.getBookingsForToday=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var deferred=$q.defer(),promise=deferred.promise;<span class="cstat-no" title="statement not covered" >$</span>scope.bookingsForToday=Booking.queryMoreForPeriod({fromDate:that.todayDate,toDate:that.todayDate});<span class="cstat-no" title="statement not covered" >$</span>scope.bookingsForToday.$promise.then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$scope.noBookingsForTodayFound=!$scope.bookingsForToday.length;<span class="cstat-no" title="statement not covered" >d</span>eferred.resolve()}</span>);<span class="cstat-no" title="statement not covered" >$</span>scope.bookingsForToday.$promise.catch(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$rootScope.FlashMessage={type:"error",message:"Dagens bokningstillfällen kunde inte hämtas, var god försök igen."}}</span>);<span class="cstat-no" title="statement not covered" >r</span>eturn promise}</span>;<span class="cstat-no" title="statement not covered" >t</span>hat.getFreeLocationsForToday=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var deferred=$q.defer(),promise=deferred.promise;<span class="cstat-no" title="statement not covered" >$</span>scope.locationsFreeForToday=Location.queryFreeForPeriod({fromDate:that.todayDate,toDate:that.todayDate});<span class="cstat-no" title="statement not covered" >$</span>scope.locationsFreeForToday.$promise.then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$scope.noLocationsFreeForTodayFound=!$scope.locationsFreeForToday.length;<span class="cstat-no" title="statement not covered" >d</span>eferred.resolve()}</span>);<span class="cstat-no" title="statement not covered" >$</span>scope.locationsFreeForToday.$promise.catch(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$rootScope.FlashMessage={type:"error",message:"Lediga lokaler för idag kunde inte hämtas, var god försök igen."}}</span>);<span class="cstat-no" title="statement not covered" >r</span>eturn promise}</span>;<span class="cstat-no" title="statement not covered" >t</span>hat.todayDate=moment().format("YYYY-MM-DD");<span class="cstat-no" title="statement not covered" >t</span>hat.getEmptyBookings().then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>that.getBookingsForToday().then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>that.getFreeLocationsForToday()}</span>)}</span>)}</span>])})();</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sun May 31 2015 21:26:57 GMT+0200 (Västeuropa, sommartid)</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
