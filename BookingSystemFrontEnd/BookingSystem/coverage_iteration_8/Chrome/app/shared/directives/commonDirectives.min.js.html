<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for ./app/shared/directives/commonDirectives.min.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../../prettify.css">
    <link rel="stylesheet" href="../../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header low">
    <h1>Code coverage report for <span class="entity">./app/shared/directives/commonDirectives.min.js</span></h1>
    <h2>
        Statements: <span class="metric">3.01% <small>(4 / 133)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">0% <small>(0 / 52)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">1.75% <small>(1 / 57)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">100% <small>(1 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">./app/shared/directives/</a> &#187; commonDirectives.min.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1</td><td class="line-coverage"><span class="cline-any cline-yes">1</span></td><td class="text"><pre class="prettyprint lang-js">(function(){var isValueEmpty=<span class="fstat-no" title="function not covered" >function(value){<span class="cstat-no" title="statement not covered" ></span>return angular.isUndefined(value)||value===""||value===null||value!==value}</span>;angular.module("bookingSystem.commonDirectives",[]).directive("pageHeaderButtons",["$route","$routeParams","$location",<span class="fstat-no" title="function not covered" >function($route,$routeParams,$location){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"E",replace:true,templateUrl:"shared/directives/pageHeaderButtons.html",scope:{showList:"=showList",showCalendar:"=showCalendar",showMap:"=showMap",showAdd:"=showAdd",showSearch:"=showSearch"},controller:["$scope","$element","$attrs",<span class="fstat-no" title="function not covered" >function($scope,$element,$attrs){<span class="cstat-no" title="statement not covered" ></span>$scope.objectType=$location.path().split("/")[1];<span class="cstat-no" title="statement not covered" >$</span>scope.activePage=$location.path().split("/")[2]}</span>]}}</span>]).directive("selectPercentage",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"E",replace:true,template:'&lt;select ng-model="model" ng-options="percentage.value as percentage.name for percentage in percentageRange"&gt;&lt;/select&gt;',scope:{model:"=useModel"},controller:["$scope","$element","$attrs",<span class="fstat-no" title="function not covered" >function($scope,$element,$attrs){<span class="cstat-no" title="statement not covered" ></span>var i;<span class="cstat-no" title="statement not covered" >$</span>scope.percentageRange=[];<span class="cstat-no" title="statement not covered" >$</span>scope.model=$scope.model||0;<span class="cstat-no" title="statement not covered" >f</span>or(i=0;i&lt;=100;i++){<span class="cstat-no" title="statement not covered" >$scope.percentageRange.push({name:i+"%",value:i/100})}</span>}</span>]}}</span>).directive("selectMaxPeople",["OPTIONS_MAX_PEOPLE",<span class="fstat-no" title="function not covered" >function(OPTIONS_MAX_PEOPLE){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"E",require:"ngModel",replace:true,template:'&lt;div&gt;&lt;span ng-show="isErrorVisible"&gt;Max {{maxPeopleOptions}}&lt;/span&gt;&lt;select ng-model="model" ng-options="maxPeople for maxPeople in maxPeopleRange"&gt;&lt;/select&gt;&lt;/div&gt;',scope:{model:"=useModel",maxPeopleOptions:"=maxPeopleOptions"},link:<span class="fstat-no" title="function not covered" >function(scope,elem,attr,ctrl){<span class="cstat-no" title="statement not covered" ></span>var i,that=this;<span class="cstat-no" title="statement not covered" >s</span>cope.isErrorVisible=false;<span class="cstat-no" title="statement not covered" >t</span>hat.generateOptions=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>scope.maxPeopleRange=[];<span class="cstat-no" title="statement not covered" >f</span>or(i=0;i&lt;=OPTIONS_MAX_PEOPLE;i++){<span class="cstat-no" title="statement not covered" >scope.maxPeopleRange.push(i)}</span>}</span>;<span class="cstat-no" title="statement not covered" >s</span>cope.model=scope.model||0;<span class="cstat-no" title="statement not covered" >s</span>cope.$watch("maxPeopleOptions",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(scope.model&gt;scope.maxPeopleOptions){<span class="cstat-no" title="statement not covered" >scope.isErrorVisible=true;<span class="cstat-no" title="statement not covered" >c</span>trl.$setValidity("dateTimeOutOfRange",false)}</span>else{<span class="cstat-no" title="statement not covered" >scope.isErrorVisible=false;<span class="cstat-no" title="statement not covered" >c</span>trl.$setValidity("dateTimeOutOfRange",true)}</span>}</span>);<span class="cstat-no" title="statement not covered" >s</span>cope.$watch("model",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(scope.model&gt;scope.maxPeopleOptions){<span class="cstat-no" title="statement not covered" >scope.isErrorVisible=true;<span class="cstat-no" title="statement not covered" >c</span>trl.$setValidity("dateTimeOutOfRange",false)}</span>else{<span class="cstat-no" title="statement not covered" >scope.isErrorVisible=false;<span class="cstat-no" title="statement not covered" >c</span>trl.$setValidity("dateTimeOutOfRange",true)}</span>}</span>);<span class="cstat-no" title="statement not covered" >t</span>hat.generateOptions()}</span>,controller:["$scope","$element","$attrs",<span class="fstat-no" title="function not covered" >function($scope,$element,$attrs){</span>}]}}</span>]).directive("inputMaxPeople",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"E",replace:true,template:'&lt;div&gt;&lt;input type="number" ng-model="model" min="0" max="{{maxPeople}}"&gt;{{maxPeople}}&lt;/div&gt;',scope:{model:"=useModel",maxPeople:"=maxPeople"},controller:["$scope","$element","$attrs",<span class="fstat-no" title="function not covered" >function($scope,$element,$attrs){<span class="cstat-no" title="statement not covered" ></span>var i,that=this;<span class="cstat-no" title="statement not covered" >$</span>scope.model=$scope.model||0;<span class="cstat-no" title="statement not covered" >i</span>f($scope.model&gt;$scope.maxPeople){<span class="cstat-no" title="statement not covered" >$scope.model=0}<span class="cstat-no" title="statement not covered" ></span>$</span>scope.$watch("maxPeople",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if($scope.model&gt;$scope.maxPeople){<span class="cstat-no" title="statement not covered" >$scope.model=0}</span>}</span>)}</span>]}}</span>).directive("loading",["$http",<span class="fstat-no" title="function not covered" >function($http){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"A",link:<span class="fstat-no" title="function not covered" >function(scope,elm,attrs){<span class="cstat-no" title="statement not covered" ></span>scope.isLoading=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return $http.pendingRequests.length&gt;0}</span>;<span class="cstat-no" title="statement not covered" >s</span>cope.$watch(scope.isLoading,<span class="fstat-no" title="function not covered" >function(v){<span class="cstat-no" title="statement not covered" ></span>if(v){<span class="cstat-no" title="statement not covered" >scope.showPreLoader=true}</span>else{<span class="cstat-no" title="statement not covered" >scope.showPreLoader=false}</span>}</span>)}</span>}}</span>]).directive("itemActionButtons",["$route","$routeParams","$location",<span class="fstat-no" title="function not covered" >function($route,$routeParams,$location){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"A",replace:true,templateUrl:"shared/directives/itemActionButtons.html",scope:{id:"=itemActionButtons",objectType:"@objectType",bookingType:"@bookingType",renderDeleteIcon:"=?renderDeleteIcon",renderEditIcon:"=?renderEditIcon",renderShowIcon:"=?renderShowIcon",renderBookIcon:"=?renderBookIcon"},link:<span class="fstat-no" title="function not covered" >function(){</span>},controller:["$scope","$element","$attrs",<span class="fstat-no" title="function not covered" >function($scope,$element,$attrs){<span class="cstat-no" title="statement not covered" ></span>var that=this;<span class="cstat-no" title="statement not covered" >t</span>hat.initVariables=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$scope.renderDeleteIcon=$scope.renderDeleteIcon||true;<span class="cstat-no" title="statement not covered" >$</span>scope.renderEditIcon=$scope.renderDeleteIcon||true;<span class="cstat-no" title="statement not covered" >$</span>scope.renderShowIcon=$scope.renderDeleteIcon||true}</span>;<span class="cstat-no" title="statement not covered" >t</span>hat.bindEvents=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$element.bind("click",<span class="fstat-no" title="function not covered" >function(event){<span class="cstat-no" title="statement not covered" ></span>$scope.actionsvisible=true;<span class="cstat-no" title="statement not covered" >$</span>scope.$digest()}</span>);<span class="cstat-no" title="statement not covered" >$</span>element.bind("mouseleave",<span class="fstat-no" title="function not covered" >function(event){<span class="cstat-no" title="statement not covered" ></span>$scope.actionsvisible=false;<span class="cstat-no" title="statement not covered" >$</span>scope.$digest()}</span>)}</span>;<span class="cstat-no" title="statement not covered" >t</span>hat.getObjectType=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return typeof $scope.objectType!=="undefined"?$scope.objectType:$location.path().split("/")[1]}</span>;<span class="cstat-no" title="statement not covered" >$</span>scope.redirectToDeletePage=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$location.url($location.path());<span class="cstat-no" title="statement not covered" >$</span>location.path(that.getObjectType()+"/radera/"+$scope.id)}</span>;<span class="cstat-no" title="statement not covered" >$</span>scope.redirectToEditPage=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$location.url($location.path());<span class="cstat-no" title="statement not covered" >$</span>location.path(that.getObjectType()+"/redigera/"+$scope.id)}</span>;<span class="cstat-no" title="statement not covered" >$</span>scope.redirectToShowPage=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$location.url($location.path());<span class="cstat-no" title="statement not covered" >$</span>location.path(that.getObjectType()+"/visa/"+$scope.id)}</span>;<span class="cstat-no" title="statement not covered" >$</span>scope.redirectToBookingPage=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$location.url($location.path());<span class="cstat-no" title="statement not covered" >$</span>location.path($scope.bookingType+"/skapa");<span class="cstat-no" title="statement not covered" >$</span>location.search("lokal-id",$scope.id)}</span>;<span class="cstat-no" title="statement not covered" >t</span>hat.bindEvents();<span class="cstat-no" title="statement not covered" >t</span>hat.initVariables()}</span>]}}</span>]).directive("backButton",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"A",link:<span class="fstat-no" title="function not covered" >function(scope,element){<span class="cstat-no" title="statement not covered" ></span>element[0].addEventListener("click",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>history.back()}</span>)}</span>}}</span>).directive("addToContentButton",["$route","$routeParams","$location",<span class="fstat-no" title="function not covered" >function($route,$routeParams,$location){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"A",replace:true,template:'&lt;a href="" ng-click="redirect()" class="add-to-content-button"&gt;+&lt;/a&gt;',scope:{addArgument:"=addArgument",objectType:"@addToContentButton"},link:<span class="fstat-no" title="function not covered" >function(){</span>},controller:["$scope","$element","$attrs",<span class="fstat-no" title="function not covered" >function($scope,$element,$attrs){<span class="cstat-no" title="statement not covered" ></span>$scope.redirect=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$location.path($scope.objectType+"/skapa/"+$scope.addArgument)}</span>}</span>]}}</span>]).directive("stopParentEvent",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"A",link:<span class="fstat-no" title="function not covered" >function(scope,element,attr){<span class="cstat-no" title="statement not covered" ></span>element.bind(attr.stopParentEvent,<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>e.stopPropagation();<span class="cstat-no" title="statement not covered" >e</span>.preventDefault()}</span>)}</span>}}</span>).directive("ngMin",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"A",require:"ngModel",link:<span class="fstat-no" title="function not covered" >function(scope,elem,attr,ctrl){<span class="cstat-no" title="statement not covered" ></span>scope.$watch(attr.ngMin,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>ctrl.$setViewValue(ctrl.$viewValue)}</span>);<span class="cstat-no" title="statement not covered" >v</span>ar minValidator=<span class="fstat-no" title="function not covered" >function(value){<span class="cstat-no" title="statement not covered" ></span>var min=scope.$eval(attr.ngMin)||0;<span class="cstat-no" title="statement not covered" >i</span>f(!isValueEmpty(value)&amp;&amp;value&lt;min){<span class="cstat-no" title="statement not covered" >ctrl.$setValidity("ngMin",false);<span class="cstat-no" title="statement not covered" >r</span>eturn undefined}</span>else{<span class="cstat-no" title="statement not covered" >ctrl.$setValidity("ngMin",true);<span class="cstat-no" title="statement not covered" >r</span>eturn value}</span>}</span>;<span class="cstat-no" title="statement not covered" >c</span>trl.$parsers.push(minValidator);<span class="cstat-no" title="statement not covered" >c</span>trl.$formatters.push(minValidator)}</span>}}</span>).directive("ngMax",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"A",require:"ngModel",link:<span class="fstat-no" title="function not covered" >function(scope,elem,attr,ctrl){<span class="fstat-no" title="function not covered" ></span>function isEmpty(value){<span class="cstat-no" title="statement not covered" ></span>return angular.isUndefined(value)||value===""||value===null||value!==value}<span class="cstat-no" title="statement not covered" ></span>scope.$watch(attr.ngMax,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>ctrl.$setViewValue(ctrl.$viewValue)}</span>);<span class="cstat-no" title="statement not covered" >v</span>ar maxValidator=<span class="fstat-no" title="function not covered" >function(value){<span class="cstat-no" title="statement not covered" ></span>var max=scope.$eval(attr.ngMax)||Infinity;<span class="cstat-no" title="statement not covered" >i</span>f(!isValueEmpty(value)&amp;&amp;value&gt;max){<span class="cstat-no" title="statement not covered" >ctrl.$setValidity("ngMax",false);<span class="cstat-no" title="statement not covered" >r</span>eturn undefined}</span>else{<span class="cstat-no" title="statement not covered" >ctrl.$setValidity("ngMax",true);<span class="cstat-no" title="statement not covered" >r</span>eturn value}</span>}</span>;<span class="cstat-no" title="statement not covered" >c</span>trl.$parsers.push(maxValidator);<span class="cstat-no" title="statement not covered" >c</span>trl.$formatters.push(maxValidator)}</span>}}</span>).directive("validateDateTime",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"E",require:"ngModel",link:<span class="fstat-no" title="function not covered" >function(scope,element,attr,ctrl){<span class="cstat-no" title="statement not covered" ></span>var validateDateTime;<span class="cstat-no" title="statement not covered" >v</span>alidateDateTime=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var StartDateObj,EndDateObj;<span class="cstat-no" title="statement not covered" >i</span>f(typeof scope.StartDate!=="undefined"&amp;&amp;typeof scope.StartTime!=="undefined"&amp;&amp;typeof scope.EndDate!=="undefined"&amp;&amp;typeof scope.EndTime!=="undefined"){<span class="cstat-no" title="statement not covered" >StartDateObj=moment(scope.StartDate+" "+scope.StartTime).toDate();<span class="cstat-no" title="statement not covered" >E</span>ndDateObj=moment(scope.EndDate+" "+scope.EndTime).toDate();<span class="cstat-no" title="statement not covered" >i</span>f(EndDateObj&gt;StartDateObj){<span class="cstat-no" title="statement not covered" >ctrl.$setValidity("dateTimeOutOfRange",true)}</span>else{<span class="cstat-no" title="statement not covered" >ctrl.$setValidity("dateTimeOutOfRange",false)}</span>}</span>}</span>;<span class="cstat-no" title="statement not covered" >s</span>cope.$watch("StartDate",<span class="fstat-no" title="function not covered" >function(newValue,oldValue){<span class="cstat-no" title="statement not covered" ></span>validateDateTime()}</span>,true);<span class="cstat-no" title="statement not covered" >s</span>cope.$watch("StartTime",<span class="fstat-no" title="function not covered" >function(newValue,oldValue){<span class="cstat-no" title="statement not covered" ></span>validateDateTime()}</span>,true);<span class="cstat-no" title="statement not covered" >s</span>cope.$watch("EndDate",<span class="fstat-no" title="function not covered" >function(newValue,oldValue){<span class="cstat-no" title="statement not covered" ></span>validateDateTime()}</span>,true);<span class="cstat-no" title="statement not covered" >s</span>cope.$watch("EndTime",<span class="fstat-no" title="function not covered" >function(newValue,oldValue){<span class="cstat-no" title="statement not covered" ></span>validateDateTime()}</span>,true)}</span>}}</span>)})();</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sun May 31 2015 21:26:57 GMT+0200 (Västeuropa, sommartid)</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
