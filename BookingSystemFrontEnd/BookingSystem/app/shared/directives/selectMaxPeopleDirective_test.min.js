describe("directive: selectMaxPeopleDirective",function(){beforeEach(module("bookingSystem.commonFilters"));beforeEach(module("bookingSystem.commonDirectives"));beforeEach(module("templates"));var testCurrentDateObj;var $scope;var q;var $location;var selectMaxPeopleElement;var selectMaxPeopleController;beforeEach(function(){module(function($provide){$provide.constant("OPTIONS_MAX_PEOPLE",100)})});beforeEach(inject(function($controller,$rootScope,$compile,_$q_){q=_$q_;$scope=$rootScope;$scope.testmodel=10;$scope.testMaxPeopleOptions=20;var selectMaxPeopleElem=angular.element('<select-max-people ng-model="testmodel" use-model="testmodel" max-people-options="testMaxPeopleOptions"></select-max-people>');selectMaxPeopleElement=$compile(selectMaxPeopleElem)($scope);$scope.$digest();selectMaxPeopleController=selectMaxPeopleElement.controller("selectMaxPeople");$scope=selectMaxPeopleElement.isolateScope()}));it("should have correct values after init",function(){expect($scope.maxPeopleRange.length-1).toEqual(100)});it("should have correct values after watched model is changed above maximum allowed value",function(){$scope.model=2e4;$scope.$digest();expect($scope.isErrorVisible).toEqual(true)});it("should have correct values after watched model is changed above maximum allowed value",function(){$scope.maxPeopleOptions=1;$scope.$digest();expect($scope.isErrorVisible).toEqual(true)})});