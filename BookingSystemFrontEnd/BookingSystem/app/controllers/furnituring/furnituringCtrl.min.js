(function(){angular.module("bookingSystem.furnituring",["bookingSystem.furnituringServices","bookingSystem.commonFilters","bookingSystem.commonDirectives"]).config(["$routeProvider",function($routeProvider){}]).controller("FurnituringShowCtrl",["$scope","$routeParams","$location","$rootScope","Furnituring",function($scope,$routeParams,$location,$rootScope,Furnituring){var that=this;var furnituring=Furnituring.get({furnituringId:$routeParams.furnituringId});furnituring.$promise.catch(function(){$rootScope.FlashMessage={type:"error",message:"Möbleringen kunde inte hämtas, var god försök igen."};$scope.furnituring=null});$scope.furnituring=furnituring}]).controller("FurnituringListCtrl",["$scope","Furnituring","$rootScope",function($scope,Furnituring,$rootScope){var furniturings=Furnituring.query();furniturings.$promise.catch(function(){$rootScope.FlashMessage={type:"error",message:"Möbleringar kunde inte hämtas, var god försök igen."}});$scope.furniturings=furniturings}]).controller("FurnituringCreateCtrl",["$scope","$routeParams","$location","$rootScope","Furnituring",function($scope,$routeParams,$location,$rootScope,Furnituring){var that=this;$scope.save=function(){Furnituring.save({FurnituringId:0,Name:$scope.furnituring.Name}).$promise.then(function(response){$rootScope.FlashMessage={type:"success",message:'Möbleringen "'+$scope.furnituring.Name+'" skapades med ett lyckat resultat'};history.back()}).catch(function(response){if(response.status==409){$rootScope.FlashMessage={type:"error",message:'Det finns redan en möblering som heter "'+$scope.furnituring.Name+'". Två möbleringar kan inte heta lika.'}}else{$rootScope.FlashMessage={type:"error",message:"Ett oväntat fel uppstod när möbleringen skulle sparas"}}})}}]).controller("FurnituringEditCtrl",["$scope","$routeParams","$location","$rootScope","Furnituring",function($scope,$routeParams,$location,$rootScope,Furnituring){var that=this;$scope.save=function(){Furnituring.save({FurnituringId:$routeParams.furnituringId,Name:$scope.furnituring.Name}).$promise.then(function(response){$rootScope.FlashMessage={type:"success",message:'Möbleringen "'+$scope.furnituring.Name+'" sparades med ett lyckat resultat'};history.back()}).catch(function(response){if(response.status==409){$rootScope.FlashMessage={type:"error",message:'Det finns redan en möblering som heter "'+$scope.furnituring.Name+'". Två möbleringar kan inte heta lika.'}}else if(response.status==400||response.status==500){$rootScope.FlashMessage={type:"error",message:"Ett oväntat fel uppstod när möbleringen skulle sparas"}}if(response.status==404){$rootScope.FlashMessage={type:"error",message:'Möbleringen "'+$scope.furnituring.Name+'" existerar inte längre. Hann kanske någon radera den?'};history.back()}})};var furnituring=Furnituring.get({furnituringId:$routeParams.furnituringId});furnituring.$promise.catch(function(){$rootScope.FlashMessage={type:"error",message:"Möbleringen kunde inte hämtas, var god försök igen."};$scope.furnituring=null});$scope.furnituring=furnituring}]).controller("FurnituringDeleteCtrl",["$scope","$routeParams","Furnituring","$location","$rootScope",function($scope,$routeParams,Furnituring,$location,$rootScope){var that=this;$scope.confirm=function(){Furnituring.delete({furnituringId:$routeParams.furnituringId}).$promise.then(function(response){$rootScope.FlashMessage={type:"success",message:'Möbleringen "'+$scope.furnituring.Name+'" raderades med ett lyckat resultat'};history.back()}).catch(function(response){if(response.status==400&&response.data.Message!=="undefined"&&response.data.Message==="Foreign key references exists"){$rootScope.FlashMessage={type:"error",message:"Möbleringen kan inte raderas eftersom det finns"+" en lokalbokning eller en lokalmöblering som refererar till möbleringen"}}else if(response.status==400||response.status==500){$rootScope.FlashMessage={type:"error",message:"Ett oväntat fel uppstod när möbleringen skulle tas bort"}}if(response.status==404){$rootScope.FlashMessage={type:"error",message:'Möbleringen "'+$scope.furnituring.Name+'" existerar inte längre. Hann kanske någon radera den?'}}history.back()})};var furnituring=Furnituring.get({furnituringId:$routeParams.furnituringId});furnituring.$promise.catch(function(){$rootScope.FlashMessage={type:"error",message:"Möbleringen kunde inte hämtas, var god försök igen."};$scope.furnituring=null});$scope.furnituring=furnituring}])})();